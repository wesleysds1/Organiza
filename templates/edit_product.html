{% extends "base.html" %}

{% block title %}Editar Produto{% endblock %}

{% block body_class %}edit-product-page{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white">
            <h4>Editar Produto</h4>
        </div>
        <div class="card-body">
            <!-- Formulário para editar produto -->
            <form method="POST" action="{{ url_for('update_product', id=product['id']) }}">
                <div class="form-group mb-3">
                    <label for="name">Nome do Produto</label>
                    <input type="text" id="name" name="name" class="form-control" value="{{ product['name'] }}" required>
                </div>
                <div class="form-group mb-3">
                    <label for="quantity">Quantidade</label>
                    <input type="number" id="quantity" name="quantity" class="form-control" value="{{ product['quantity'] }}" required>
                </div>
                <div class="form-group mb-3">
                    <label for="product-unit-price">Valor Unitário</label>
                    <input type="text" id="product-unit-price" name="price" class="form-control currency"
                        value="{{ product['price'] }}" placeholder="Digite o valor unitário" required>
                </div>
                <div class="form-group mb-3">
                    <label for="product-total-price">Valor Total</label>
                    <input type="text" id="product-total-price" class="form-control currency" value="{{ product['total'] }}" placeholder="Valor total" readonly>
                </div>
                <div class="form-group mb-3">
                    <label for="supplier">Fornecedor</label>
                    <input type="text" id="supplier" name="supplier" class="form-control" value="{{ product['supplier'] }}" required>
                </div>
                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                    <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Cancelar</a>
                </div>
            </form>

            <!-- Formulário para excluir produto -->
            <form id="delete-product-form" action="{{ url_for('delete_product', product_id=product.id) }}" method="POST" class="text-center mt-3">
                <button type="button" id="delete-product-btn" class="btn btn-danger">Excluir Produto</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block custom_scripts %}
<script src="{{ url_for('static', filename='js/edit_product.js') }}"></script>
{% endblock %}
